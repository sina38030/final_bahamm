/*  ============ لایه و مودال ============ */
.overlay{
  position:fixed;inset:0;background:rgba(0,0,0,.45);
  backdrop-filter:blur(4px);z-index:60;
  transition: opacity 0.35s ease;
}
.modal{
  position:fixed;top:10%;left:0;right:0;bottom:0;
  background:#f9f9f9;border-radius:24px 24px 0 0;
  overflow-y:auto;direction:rtl;
  z-index:70;transform:translateY(120%);
  transition:transform 0.4s cubic-bezier(0.32, 0.72, 0, 1);
  box-shadow: 0 -10px 40px rgba(0,0,0,0.15);
}
.show{opacity:1;transform:translateY(0);}

/* ───────── نوار دکمه‌های روی عکس ───────── */
.topBar{
  position:absolute;top:12px;left:0;right:0;
  display:flex;justify-content:space-between;align-items:center;
  padding:0 16px;z-index:15;
  pointer-events:none;
  background:none;
}

.topBar .leftBtns{display:flex;gap:12px}

.iconBtn{
  width:40px;height:40px;border:none;border-radius:50%;
  background:rgba(255,255,255,.9);
  backdrop-filter: blur(4px);
  display:flex;align-items:center;justify-content:center;
  cursor:pointer;font-size:20px;pointer-events:auto;
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
  transition: transform 0.2s ease, background 0.2s;
  color: #444;
}
.iconBtn:active { transform: scale(0.95); }

/* قلب پر رنگ شود وقتی .fav رویش اضافه می‌کنیم */
.iconBtn.fav svg{color:var(--pink,#e50063)}


/*  ============ اسلایدر ============ */
.slider{
  display:flex;overflow-x:auto;
  scroll-snap-type:x mandatory;-webkit-overflow-scrolling:touch;
  height:45vh;user-select:none;
  background: #fff;
  direction: ltr;
}
.slider::-webkit-scrollbar{display:none}
.slide{min-width:100%;scroll-snap-align:start;border:none;outline:none;margin:0;padding:0}
.slide img{
  width:100%;height:100%;
  object-fit:cover;border-radius:0;
  border:none;outline:none;margin:0;padding:0;
  box-shadow:none;
}
/* ───────── Slide Index (۱/۵) ───────── */
.slideIdx{
  position:absolute;left:16px;bottom:35px;
  color:#fff;font-size:13px;font-weight: 600;
  padding: 4px 10px;
  border-radius: 20px;
  background: rgba(0,0,0,0.4);
  backdrop-filter: blur(4px);
  pointer-events:none;
}

/*  ============ بدنه ============ */
.body{
  padding:24px 20px 140px;
  background: #f9f9f9;
  position: relative;
  z-index: 5;
  margin-top: -24px;
  border-radius: 24px 24px 0 0;
  box-shadow: 0 -4px 16px rgba(0,0,0,0.03);
}
.title{
  font-size:20px;font-weight:800;
  margin-bottom:8px; color: #111;
  line-height: 1.4;
}
.weight{
  font-size:14px;color:#777;
  margin-top:4px;margin-bottom:12px;
  font-weight: 500;
}
.meta{
  display:flex;flex-wrap:wrap;gap:12px;align-items: center;
  font-size:14px;color:#555;margin-bottom:24px;
  padding-bottom: 16px; border-bottom: 1px solid #eee;
}
.meta small{font-size:13px;color:#888}
.meta svg{color:#ffb700;margin-left:6px; font-size: 16px;}

/*  ============ قیمت‌ها ============ */
.pricing{
  font-size:15px;line-height:2;direction:rtl;
  background: #fff;
  border-radius: 16px;
  padding: 16px;
  box-shadow: 0 2px 12px rgba(0,0,0,0.04);
  margin-bottom: 20px;
}
.pricing div{display:flex;gap:4px;justify-content:space-between}
.pricing span:first-child{flex:none}
.priceRow{
  display:flex;gap:4px;justify-content:space-between;
  margin-bottom:10px;direction:rtl;
  padding-bottom: 10px;
  border-bottom: 1px dashed #f0f0f0;
}
.priceRow:last-child { border-bottom: none; margin-bottom: 0; padding-bottom: 0; }
.priceLabel{font-weight:500;color:#555}
.price{font-weight:700; color: #333; font-size: 16px;}
.free{color:#00c853;font-weight:800; font-size: 16px;}
.toggleRow{cursor:pointer;align-items:center}
.rotate{transform:rotate(180deg);transition:.3s}

/*  قیمت دوستان */
.friendBox{
  margin:0 0 20px;padding:4px;background: linear-gradient(135deg, #f0f0f0, #fff);
  border: 1px solid #e0e0e0;
  border-radius:12px;display:flex;
  align-items:center;justify-content: space-between; gap:12px;
  padding: 12px 16px;
}
.friendLabel{font-size:14px;color:#444; font-weight: 600;}
.friendPrice{
  background:#fff;padding:6px 12px;border-radius:8px;
  font-weight:700; color: #e6005c;
  box-shadow: 0 2px 8px rgba(230, 0, 92, 0.15);
}

/*  ============ کارت‌های ساده ============ */
.card{
  background:#fff;border-radius:16px;padding:16px;
  margin-bottom:16px;box-shadow:0 4px 12px rgba(0,0,0,0.03);
  border: 1px solid #f0f0f0;
  line-height:2;font-size:14px;
  transition: transform 0.2s ease, box-shadow 0.2s;
}
.card:active { transform: scale(0.99); }
.cardRow{display:flex;justify-content:space-between; margin-bottom: 4px;}
.cardRow:last-child { margin-bottom: 0; }
.green{color:#00a65a;font-weight:700}

/*  لینک بیشتر */
.moreLink{
  color:#00a65a;font-size:13px;display:inline-flex;
  align-items:center;gap:4px;text-decoration:none
}

/*  بنر تعهدات */
.bannerWrap{display:flex;gap:12px;margin-bottom:20px}
.banner{
  flex:1;background:#eee;border-radius:12px;
  height:88px;display:flex;align-items:center;
  justify-content:center;font-weight:600;
  color: #777; font-size: 13px;
  border: 1px dashed #ccc;
}

/*  عنوان بخش‌ها */
.sectionTitle{font-size:17px;font-weight:800;margin:32px 0 16px;color:#222; position: relative; padding-right: 12px;}
.sectionTitle::before {
  content: ''; position: absolute; right: 0; top: 4px; bottom: 4px; width: 4px;
  background: #e6005c; border-radius: 4px;
}

/*  کارت مرجوعی */
.returnCard{
  display:flex;justify-content:space-between;
  align-items:center;color:#555;font-weight:600;
  font-size:14px;cursor:pointer;
  background: #fff; padding: 16px; border-radius: 16px;
  border: 1px solid #f0f0f0;
  box-shadow: 0 4px 12px rgba(0,0,0,0.03);
}
.returnCard svg { color: #999; }

/*  ============ کارت امتیاز ============ */
.ratingCard{
  background:#fff;border-radius:16px;padding:20px;
  margin-bottom:16px;box-shadow:0 4px 12px rgba(0,0,0,0.03);
  border: 1px solid #f0f0f0;
}
.ratingHead{display:flex;justify-content:space-between; align-items: center; margin-bottom: 12px;}
.ratingHead h3{font-size:16px;font-weight:700;margin:0; color: #333;}
.total{font-size:13px;color:#888; background: #f5f5f5; padding: 2px 8px; border-radius: 12px;}
.ratingMain{text-align:center;margin:16px 0}
.ratingScore{font-size:42px;font-weight:800;color:#333; line-height: 1;}
.starGroup{ margin-top: 8px; }
.starGroup svg{color:#ffb700;font-size:22px;margin:0 2px}

/*  ============ کامنت نمونه ============ */
.commentCard{
  background:#fff;border-radius:16px;padding:16px;
  margin-bottom:12px;box-shadow:0 2px 8px rgba(0,0,0,0.02);
  border: 1px solid #f5f5f5;
  font-size:14px;
}
.commentCard header{
  display:flex;justify-content:space-between;
  font-size:12px;color:#999;margin-bottom:8px;
  align-items: center;
}
.commentCard p{margin-top:10px;color:#444; line-height: 1.6;}
.user{color:#333; font-weight: 700; font-size: 13px;}

/* === نوار اکشن پایین === */
.actionBar{
  position:fixed;right:0;left:0;bottom:0;height:80px;
  display:flex;align-items:center;gap:12px;padding:12px 20px;
  background:#fff;border-top:1px solid #f0f0f0;z-index:90;
  box-shadow: 0 -4px 20px rgba(0,0,0,0.05);
}
/* آیکن سبد کوچک (سمت راست) */
.cartIcon{
  width:48px;height:48px;border:1px solid #eee;
  border-radius:14px;display:flex;align-items:center;justify-content:center;
  font-size:22px;color:#e6005c;position:relative;
  cursor:pointer;flex-shrink:0;
  background: #fff;
  transition: transform 0.2s;
}
.cartIcon:active { transform: scale(0.95); }

.badge{
  position:absolute;top:-6px;right:-6px;min-width:20px;height:20px;
  background:#e6005c;color:#fff;font-size:11px;
  line-height:20px;text-align:center;border-radius:50%;
  border: 2px solid #fff;
}
.addBtn{
  flex:1;background: linear-gradient(135deg, #e6005c, #ff3385);
  color:#fff;border:none;
  border-radius:14px;padding:12px;font-size:16px;font-weight: 700;
  box-shadow: 0 4px 12px rgba(230, 0, 92, 0.3);
  transition: transform 0.2s, box-shadow 0.2s;
}
.addBtn:active { transform: scale(0.98); box-shadow: 0 2px 6px rgba(230, 0, 92, 0.2); }

/* دکمهٔ دیدن سبد (حالت qty>0) */
.viewCart{
  flex:1;padding:12px;border-radius:14px;
  background:#fff;border:1px solid #e6005c;
  color:#e6005c;font-size:15px;display:flex;align-items:center;
  gap:8px;justify-content:center;position:relative;
  font-weight: 700;
}
.qtyWrap{
  flex:1;display:flex;align-items:center;gap:12px;
  background: #f9f9f9; padding: 4px; border-radius: 14px;
}
.qtyWrap button{
  width:44px;height:44px;border:none;background:#fff;
  color:#333;border-radius:12px;font-size:18px;display:flex;
  align-items:center;justify-content:center;
  box-shadow: 0 2px 6px rgba(0,0,0,0.05);
  transition: transform 0.1s;
}
.qtyWrap button:active { transform: scale(0.9); }
.qtyWrap span{
  min-width:32px;text-align:center;font-weight:700;font-size:18px; color: #333;
}

/* آیکون کوچک */
.iconXs svg{width:14px;height:14px}

/* ------ Image slider ------ */
.galleryWrap{position:relative;border:none;outline:none;margin:0;padding:0;z-index:1}
/* Slider styles moved to top */


/* ───── Lightbox (Portal) ───── */
.lbOverlay{
  position:fixed;inset:0;background:rgba(0,0,0,.96);
  display:flex;align-items:center;justify-content:center;
  cursor:zoom-out;z-index:2000;         /* بالاتر از هر چیز */
  touch-action:none; overscroll-behavior:contain;
}
.lbImg{
  max-width:100%;max-height:100vh;object-fit:contain;cursor:default
}
.navBtn{
  position:absolute;top:50%;transform:translateY(-50%);
  width:56px;height:56px;border:none;border-radius:50%;
  background:rgba(255,255,255,.25);color:#fff;font-size:34px;
  display:flex;align-items:center;justify-content:center;cursor:pointer;
  border:2px solid rgba(255,255,255,.4);
}
.navBtn:hover{background:rgba(255,255,255,.35)}
.right{right:20px}
.left {left:20px}
.closeBtn{
  position:absolute;top:18px;left:18px;width:48px;height:48px;
  border:none;border-radius:50%;background:rgba(255,255,255,.25);
  color:#fff;font-size:30px;display:flex;align-items:center;justify-content:center;cursor:pointer;
  border:2px solid rgba(255,255,255,.4);
}
.closeBtn:hover{background:rgba(255,255,255,.35)}



/* ───── sticky header ───── */
.stickyBar{
  position:fixed;top:0;left:0;right:0;height:60px;padding:0 16px;
  background:rgba(255,255,255,0.95);
  backdrop-filter: blur(8px);
  border-bottom:1px solid rgba(0,0,0,0.05);
  display:flex;align-items:center;gap:12px;
  box-shadow:0 4px 12px rgba(0,0,0,0.03);
  transform:translateY(-100%);transition:transform 0.3s cubic-bezier(0.32, 0.72, 0, 1);
  z-index:80;
}
.barShow{transform:translateY(0)}
.smallBtn{
  width:40px;height:40px;border:none;border-radius:50%;
  background:#f5f5f5;font-size:20px;cursor:pointer;
  display:flex;align-items:center;justify-content:center;
  color: #555;
  transition: background 0.2s;
}
.smallBtn:active { background: #e5e5e5; }
.msg{flex:1;text-align:center;font-weight:700;font-size:16px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis; color: #333;}


/* ───── bottom sheet ───── */
.sheet{
  position:fixed;left:0;right:0;bottom:0;
  transform:translateY(120%);
  background:#fff;
  border-radius:24px 24px 0 0;
  padding:24px 24px 32px;
  box-shadow:0 -10px 40px rgba(0,0,0,0.15);
  z-index:120;
  transition:transform 0.35s cubic-bezier(0.19, 1, 0.22, 1);
  line-height:1.8;font-size:14px;max-height:80vh;overflow-y:auto;
}
.sheetShow{transform:translateY(0)}
.sheetClose{
  position:absolute;top:16px;right:16px;width:36px;height:36px;border:none;
  border-radius:50%;background:#f5f5f5;font-size:20px;cursor:pointer;
  color: #666;
  display: flex; align-items: center; justify-content: center;
  transition: background 0.2s;
}
.sheetClose:active { background: #e5e5e5; }

/* ───── share sheet (داخل همان provider) ───── */
.shareSheet{
  position:fixed;left:0;right:0;bottom:0;
  padding:32px 24px 24px;
  background:#fff;border-radius:24px 24px 0 0;
  display:flex;justify-content:space-around;gap:12px;
  box-shadow:0 -10px 40px rgba(0,0,0,0.15);
  transform:translateY(120%);
  z-index:82;transition:transform 0.3s cubic-bezier(0.19, 1, 0.22, 1);
}
.shareSheet.show{transform:translateY(0)}
.shareItem{
  flex:1;padding:16px 8px;background:#f9f9f9;border:1px solid #eee;border-radius:16px;
  text-align:center;font-weight:700;cursor:pointer;text-decoration:none;color:#444;
  transition: transform 0.2s, background 0.2s;
  display: flex; flex-direction: column; align-items: center; gap: 8px;
}
.shareItem:active { transform: scale(0.96); background: #f0f0f0; }
.shareItem i{margin-left:0; font-size: 24px; color: #555;}
.shareClose{
  position:absolute;top:16px;right:16px;width:32px;height:32px;font-size:18px;
  background:#f5f5f5;border:none;border-radius:50%;cursor:pointer;
  display: flex; align-items: center; justify-content: center; color: #666;
}


.modal.show + .overlay{opacity:1}
.overlay{opacity:0;transition:.35s}



/* ───────── Toast علاقه‌مندی ───────── */
.toast{
  position:absolute;top:70px;left:24px;right:24px;
  background:rgba(30,30,30,0.9);
  backdrop-filter: blur(8px);
  color:#fff;text-align:center;
  padding:12px;border-radius:16px;font-size:14px;font-weight: 500;
  opacity:0;transform:translateY(-10px);
  transition:.35s opacity,.35s transform;
  z-index:200;
  box-shadow: 0 4px 12px rgba(0,0,0,0.2);
  pointer-events:none;
}
.toast.show{opacity:1;transform:translateY(0)}




