/* ─────────────────────────────────────────────────────────
   Legacy home-page styles only – keeps global2.css intact
   ───────────────────────────────────────────────────────── */
/* force white site background */
body { background:#fff; }

/* show qty box when React adds .visible */
.qty-box.visible { display:flex; }
/* آیکن‌ها را بدون تغییر اندازه پنهان می‌کنیم */
header.compact .cat-icon { opacity:0; }   /* قبلاً display:none بود */

/* qty-box.visible قبلاً اضافه شده بود */


/* ===== ریست و متغیرها ===== */
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{
  --primary:#e6005c;
  --bg:#fff;
  --muted:#888;
  --radius:40px;
  --shadow:0 4px 10px rgba(0,0,0,.06);
  font-size:14px;
}
body{background:var(--bg);color:#333;direction:rtl}
[dir="rtl"] input,[dir="rtl"] button{font-family:inherit}

/* ===== هِدر چسبان ===== */
header{position:sticky;top:0;z-index:20;background:var(--bg)}
.top-card{background:var(--bg);border-radius:0;box-shadow:var(--shadow);margin:0 -12px 32px;padding:16px 16px;transition:.3s}
header.compact .top-card{padding:8px 16px;border-radius:0}
header.compact .cat-icon{display:none}

/* Ensure homepage header is full-bleed (override landingM global header styles) */
header#mainHeader{display:block;justify-content:unset;align-items:unset;padding:0;margin:0}
/* Remove the unwanted "bar" between the category card and banners (landingM header styles leak here) */
header#mainHeader{
  background:var(--bg) !important;
  border-bottom:none !important;
  backdrop-filter:none !important;
  -webkit-backdrop-filter:none !important;
}
header#mainHeader .top-card{
  width:100%;
  margin-right:calc(50% - 50vw);
  margin-left:calc(50% - 50vw);
  margin-bottom:0; /* kill the strip/gap under the top-card */
  border-radius:0;
  padding-right:16px;
  padding-left:16px;
}
header#mainHeader.compact .top-card{padding-right:16px;padding-left:16px}

/* جست‌وجو */
.search-box{position:relative;width:100%}
.search-box input{width:100%;padding:14px 48px 14px 16px;border:1px solid #ddd;border-radius:40px;font-size:1rem;outline:none;box-shadow:var(--shadow)}
.search-box i{position:absolute;top:50%;left:16px;transform:translateY(-50%);font-size:1.2rem;color:var(--muted)}

/* دسته‌ها */
.categories{display:flex;overflow-x:auto;gap:20px;margin-top:16px;scroll-snap-type:x mandatory}
.categories::-webkit-scrollbar{display:none}
.cat-item{min-width:90px;text-align:center;cursor:pointer;position:relative}
.cat-icon{width:44px;height:44px;border-radius:50%;background:#d7d7d7;margin:0 auto 4px;display:flex;align-items:center;justify-content:center;overflow:hidden}
.cat-icon img{width:100%;height:100%;object-fit:cover}
.cat-item span{font-size:.85rem;white-space:nowrap;display:inline-block}
.cat-item.active span{color:#e31c5f;border-bottom:2px solid #e31c5f;padding-bottom:2px}

/* ===== اسلایدر ===== */
.slider{
  width:100%;
  overflow:hidden;
  contain:layout paint;
  min-height:185px;
  /* فاصله بین کارت دسته‌بندی‌ها (در هدر) و بنرها */
  margin-top:23px;
}
.slides-scroll{display:flex;gap:12px;overflow-x:auto;scroll-snap-type:x mandatory;scroll-behavior:smooth;padding:0 12px}
.slides-scroll::-webkit-scrollbar{display:none}
.slide{
  flex:none;
  width:95%;
  scroll-snap-align:center;
  border-radius:15px;
  overflow:hidden;
  position:relative;
  height:185px;
  min-height:185px;
  max-height:185px;
}
/* Ensure Next.js Image with fill stays within bounds */
.slide img,.slide span[style*="position"],.slide>span{width:100%!important;height:100%!important;max-height:185px!important;object-fit:cover;object-position:center center}

/* ===== محصولات ===== */
.products{display:grid;grid-template-columns:repeat(2,1fr);gap:18px 8px;padding:24px 12px 80px}
.product{border:none;background:none}

/* تصویر محصول */
.prod-img{width:95%;margin:0 auto;aspect-ratio:1/1;position:relative;border-radius:var(--radius);overflow:hidden;background:#d7d7d7}
.prod-img img{width:100%;height:100%;object-fit:cover}

/* افزودن / تعداد */
.add-btn,.qty-box{position:absolute;bottom:11px;left:11px;background:var(--bg);border:1px solid var(--primary);border-radius:22px;padding:4px 14px;font-size:.9rem;color:var(--primary);cursor:pointer;box-shadow:var(--shadow);user-select:none}
.qty-box{display:none;align-items:center;gap:10px}
.qty-box button{border:none;background:transparent;font-size:10px;font-weight:700;width:24px;height:24px;text-align:center;border-radius:50%;color:var(--primary)}
.qty-box .count{min-width:16px;text-align:center;font-weight:700;color:var(--primary)}

/* متون محصول */
.name{font-size:15px;margin:8px 10px 2px}
.weight{font-size:12px;margin-right:10px;color:var(--muted);margin-bottom:4px;padding:0;border-radius:0;background:transparent;display:inline}
.rating{font-size:12px;color:var(--muted);display:flex;align-items:center;gap:4px;margin-right:10px}
.rating i{color:#ffbf00}
.rating .score{font-weight:700;color:#444}
.rating .sales{margin-right:4px}

/* قیمت‌ها */
.prices{font-size:14px;margin-top:7px;margin-right:10px}
.price-line{display:flex;align-items:center;gap:4px;margin-top:2px}
.price-toggle{font-size:.75rem;margin-left:4px;cursor:pointer;color:var(--muted);transition:.2s}
.prices.open .price-toggle{transform:rotate(180deg)}
.extra-price{display:none}
.prices.open .extra-price{display:flex}
.label{color:var(--muted)}
.value{color:var(--primary);font-weight:700}
.free{font-weight:900}

/* ===== سبد خرید ===== */
.cart-bar{position:fixed;left:12px;right:12px;bottom:74px;background:var(--bg);padding:12px;display:flex;justify-content:space-between;align-items:center;gap:16px;box-shadow:var(--shadow);border:1px solid #ddd;border-radius:var(--radius);transform:translateY(120%);visibility:hidden;transition:transform .4s ease,visibility .4s;z-index:15}
.cart-bar.show{transform:translateY(0);visibility:visible}
.go-cart{background:var(--primary);color:#fff;border:none;border-radius:40px;padding:10px 24px;font-size:.9rem;cursor:pointer;white-space:nowrap}
.summary{font-size:.9rem;white-space:nowrap}

/* ===== ناوبری پایین ===== */
.bottom-nav{position:fixed;left:0;right:0;bottom:0;background:var(--bg);border-top:1px solid #ddd;display:flex;justify-content:space-around;padding:6px 0;z-index:14}
.bottom-nav{transition:transform .3s ease,visibility .3s ease}
.bottom-nav.hide{transform:translateY(100%);visibility:hidden}
.tab{flex:1;text-align:center;color:var(--muted);font-size:.75rem}
.tab i{display:block;font-size:1.2rem;margin-bottom:2px}
.tab.active{color:var(--primary)}

/* نگهبان لود */
.observer{height:2px}

/* --- CTA روی بنر --- */
.slide-cta{position:absolute;bottom:12px;left:50%;transform:translateX(-50%);background:#fff;color:#000;border:none;border-radius:15px;padding:6px 18px;font-size:.8rem;cursor:pointer;box-shadow:var(--shadow);transition:.2s}
.slide-cta:hover{opacity:.9}

/* --- Bottom-sheet Popup --- */
.popup{position:fixed;inset:0;background:rgba(0,0,0,.35);visibility:hidden;opacity:0;transition:visibility .3s,opacity .3s;z-index:50}
.popup.show{visibility:visible;opacity:1}
.popup-box{position:fixed;right:0;left:0;bottom:0;height:50vh;background:#fff;border-radius:18px 18px 0 0;padding:24px 20px;box-shadow:0 -4px 10px rgba(0,0,0,.12);transform:translateY(100%);transition:transform .35s ease;overflow-y:auto}
.popup.show .popup-box{transform:translateY(0)}
.popup-close{position:absolute;top:10px;left:14px;font-size:1.4rem;cursor:pointer;color:var(--muted)}
.popup h2{margin-bottom:12px;font-size:1.1rem}

/* ---------- اصلاحات جدید ---------- */

/* آیکون کوچک در دکمه‌های + / − */
.icon-xs { width:12px;height:12px; }

/* چیدمان عمودی تب‌های نوار پایین */
.bottom-nav .tab {
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
}
.bottom-nav .nav-ico {
  width:1.2rem;
  height:1.2rem;
  margin-bottom:2px;
}

/* حذف لرزش: ارتفاع ثابت و بدون transition */
.cat-icon          { transition:none; }   /* جلوگیری از لرزش افقی */
.cat-item          { display:flex;flex-direction:column;align-items:center; }
.cat-item span     { margin-top:2px; }
header.compact .cat-icon {
  opacity:0;               /* مخفی ولی فضا ثابت */
  height:44px;             /* ارتفاع ثابت تا تغییر ناگهانی نشود */
}


/* 2-B  جلوگیری کامل از لرزش دسته‌ها */
.cat-icon                  { transition:none; }   /* حذف ترنزیشن عرض */
header.compact .cat-icon   { opacity:0; height:44px; } /* فضا ثابت بماند */

.iconXs svg{width:14px;height:14px}

