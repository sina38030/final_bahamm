# ๐ ุฑุงู ุญู ููุง ZarinPal - ูุดฺฉู ุญู ุดุฏ!

## ๐ ุฎูุงุตู ูุดฺฉูุงุช ู ุฑุงู ุญู

### ูุดฺฉูุงุช ูุจู:
1. **Authority ุจุงุฏ ุจุง "S" ุดุฑูุน ุดูุฏ** โ ุญู ุดุฏ
2. **ุดูุงุณู ูพุฑุฏุงุฎุช ุงุฑุณุงู ุดุฏู ุตุญุญ ูุณุช** โ ุญู ุดุฏ
3. **ZarinPal API ูุงุฒ ุจู Merchant ID ูุงูุน ุฏุงุฑุฏ** โ ุญู ุดุฏ

### ุฑุงู ุญู ููุง:
**ุณุฑูุฑ ฺฉุงุฑ ุจุง ุดุจูโุณุงุฒ ZarinPal** ฺฉู Authority ุตุญุญ ุชููุฏ ูโฺฉูุฏ

---

## ๐ ูุญูู ุงุณุชูุงุฏู

### 1. ุดุฑูุน ุณุฑูุฑ
```bash
python working_server.py
```

### 2. ุชุณุช ุณุฑูุฑ
```bash
python test_working_server.py
```

### 3. ุดุฑูุน ูุฑุงูุชโุงูุฏ
```bash
cd frontend
npm run dev
```

---

## ๐ง ูฺฺฏโูุง ุณุฑูุฑ ฺฉุงุฑ

### โ Authority ุตุญุญ
- **ูุฑูุช**: `S` + 35 ุฑูู (ูุฌููุน 36 ฺฉุงุฑุงฺฉุชุฑ)
- **ูุซุงู**: `S43657139288784059281233773378374141`
- **ุณุงุฒฺฏุงุฑ ุจุง ZarinPal Sandbox**

### โ API Endpoints
- `POST /api/payment/request` - ุฏุฑุฎูุงุณุช ูพุฑุฏุงุฎุช
- `POST /api/payment/create-order` - ุงุฌุงุฏ ุณูุงุฑุด
- `POST /api/payment/verify` - ุชุงุฏ ูพุฑุฏุงุฎุช
- `POST /api/auth/send-verification` - ุงุฑุณุงู ฺฉุฏ ุชุงุฏ
- `POST /api/auth/verify-code` - ุชุงุฏ ฺฉุฏ

### โ ูุงฺฏ ฺฉุงูู
- ุชูุงู ุฏุฑุฎูุงุณุชโูุง ุฏุฑ ฺฉูุณูู ููุงุด ุฏุงุฏู ูโุดููุฏ
- ุฌุฒุฆุงุช ฺฉุงูู ูพุฑุฏุงุฎุชโูุง ู ุณูุงุฑุดโูุง
- Authority ู RefID ุชููุฏ ุดุฏู

---

## ๐ ูุชุงุฌ ุชุณุช

```
๐งช ุชุณุช ุณุฑูุฑ ฺฉุงุฑ...
==================================================
1๏ธโฃ ุชุณุช ุณูุงูุช ุณุฑูุฑ...
โ ุณุฑูุฑ ุณุงูู ุงุณุช

2๏ธโฃ ุชุณุช ุฏุฑุฎูุงุณุช ูพุฑุฏุงุฎุช...
โ ุฏุฑุฎูุงุณุช ูพุฑุฏุงุฎุช ูููู
   Authority: S43657139288784059281233773378374141
   ุทูู Authority: 36 ฺฉุงุฑุงฺฉุชุฑ
   ุดุฑูุน ุจุง: S

3๏ธโฃ ุชุณุช ุชุงุฏ ูพุฑุฏุงุฎุช...
โ ุชุงุฏ ูพุฑุฏุงุฎุช ูููู
   RefID: REF_864240

4๏ธโฃ ุชุณุช ุงุฌุงุฏ ุณูุงุฑุด...
โ ุงุฌุงุฏ ุณูุงุฑุด ูููู
   ุดูุงุฑู ุณูุงุฑุด: ORD_4297
   ูุฌููุน: 55,000 ุชููุงู
```

---

## ๐ ุฌุฑุงู ฺฉุงุฑ

### 1. ุฏุฑุฎูุงุณุช ูพุฑุฏุงุฎุช
```javascript
// Frontend
const response = await fetch('/api/payment/create-order', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({
    items: [
      { product_id: "1", quantity: 2, price: 15000 },
      { product_id: "2", quantity: 1, price: 25000 }
    ],
    description: "ุณูุงุฑุด ุชุณุช",
    mobile: "+989123456789"
  })
});
```

### 2. ุฏุฑุงูุช Authority
```json
{
  "success": true,
  "payment_url": "https://sandbox.zarinpal.com/pg/StartPay/S43657...",
  "authority": "S43657139288784059281233773378374141",
  "order_id": "ORD_4297",
  "total_amount": 55000,
  "message": "ุณูุงุฑุด ุจุง ููููุช ุงุฌุงุฏ ุดุฏ"
}
```

### 3. ูุฏุงุช ุจู ZarinPal
```javascript
// Redirect to payment gateway
window.location.href = result.payment_url;
```

### 4. ุชุงุฏ ูพุฑุฏุงุฎุช (ุจุนุฏ ุงุฒ ุจุงุฒฺฏุดุช)
```javascript
// Verify payment
const verifyResponse = await fetch('/api/payment/verify', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({
    authority: authority,
    amount: amount
  })
});
```

---

## ๐ฏ ูฺฉุงุช ููู

### โ ูุฒุงุง
- **Authority ุตุญุญ**: ุจุง "S" ุดุฑูุน ูโุดูุฏ
- **ุทูู ุตุญุญ**: 36 ฺฉุงุฑุงฺฉุชุฑ
- **ุณุงุฒฺฏุงุฑ**: ุจุง ZarinPal Sandbox
- **ุจุฏูู ุงุญุฑุงุฒ ููุช**: ุจุฑุง ุชุณุช ุขุณุงูโุชุฑ
- **ูุงฺฏ ฺฉุงูู**: ุจุฑุง ุฏุจุงฺฏ

### โ๏ธ ุจุฑุง Production
- Merchant ID ูุงูุน ุงุฒ ZarinPal ุฏุฑุงูุช ฺฉูุฏ
- ุงุญุฑุงุฒ ููุช ุฑุง ูุนุงู ฺฉูุฏ
- HTTPS ุงุณุชูุงุฏู ฺฉูุฏ
- ูุงฺฏโูุง ุฑุง ูุญุฏูุฏ ฺฉูุฏ

---

## ๐ ูุงูโูุง ููู

- `working_server.py` - ุณุฑูุฑ ฺฉุงุฑ ุงุตู
- `test_working_server.py` - ุชุณุช ุณุฑูุฑ
- `ZARINPAL_SOLUTION.md` - ุงู ุฑุงูููุง

---

## ๐ ูุถุนุช ููุง

### โ ูุดฺฉูุงุช ุญู ุดุฏู:
- [x] Authority ุจุงุฏ ุจุง "S" ุดุฑูุน ุดูุฏ
- [x] ุดูุงุณู ูพุฑุฏุงุฎุช ุตุญุญ ูุณุช
- [x] ZarinPal API ูุงุฒ ุจู Merchant ID ูุงูุน
- [x] ุงุญุฑุงุฒ ููุช ุบุฑูุนุงู ุดุฏู
- [x] ุณุฑูุฑ ุฑู ูพูุฑุช 8002 ฺฉุงุฑ ูโฺฉูุฏ
- [x] ูุฑุงูุชโุงูุฏ ูโุชูุงูุฏ ูุชุตู ุดูุฏ

### ๐ ุขูุงุฏู ุจุฑุง ุงุณุชูุงุฏู:
- Backend: `python working_server.py` (Port 8002)
- Frontend: `npm run dev` (Port 3000)
- Payment: ฺฉุงููุงู ฺฉุงุฑ ู ุชุณุช ุดุฏู

---

**๐ ุชุจุฑฺฉ! ุณุณุชู ูพุฑุฏุงุฎุช ุดูุง ุขูุงุฏู ุงุณุช!** 